<!DOCTYPE html>

<!--
YouTube iFrame Player API: https://developers.google.com/youtube/iframe_api_reference

Created by Neil Chen on 20210720.
Github: https://github.com/neilchennc/taiwan-live-news/
-->

<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <link rel="icon" href="favicon.ico">

  <title>台灣新聞直播 | Neil Chen</title>

  <meta name="author" content="Neil Chen">
  <meta name="title" content="台灣新聞直播 | Neil Chen">
  <meta name="description" content="集合YouTube常見的台灣新聞直播，顯示在同一頁中，方便觀看不同的新聞頻道。">

  <meta property="og:title" content="台灣新聞直播 | Neil Chen">
  <meta property="og:description" content="集合YouTube常見的台灣新聞直播，顯示在同一頁中，方便觀看不同的新聞頻道。">
  <meta property="og:image"
    content="https://raw.githubusercontent.com/neilchennc/taiwan-live-news/main/images/taiwan-icon.png">
  <meta property="og:image:width" content="1722">
  <meta property="og:image:height" content="1722">
  <meta property="og:image:alt" content="Taiwan Icon">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://github.com/neilchennc/taiwan-live-news/">
</head>

<body class="text-center">
  <!-- Control Bar -->
  <div class="container">
    <div class="row row-cols-auto justify-content-center align-items-center">
      <button id="playAllButton" class="btn btn-success btn-sm col m-1" onclick="playAllVideos()">Play All</button>
      <button id="stopAllButton" class="btn btn-danger btn-sm col m-1" onclick="stopAllVideos()">Stop All</button>
      <div class="form-check form-switch col mx-2" role="button">
        <input class="form-check-input" type="checkbox" id="singlePlayerSwitch" onchange="onSinglePlayerChanged()"
          role="button" checked>
        <label class="form-check-label" style="user-select: none;" for="singlePlayerSwitch" role="button">單一播放</label>
      </div>
    </div>
  </div>

  <!-- 公視 -->
  <iframe id="iframe-pts" width="480" height="270" src="https://www.youtube.com/embed/JAzRXylm3M0?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 公視台語台 -->
  <iframe id="iframe-pts-taigi" width="480" height="270" src="https://www.youtube.com/embed/HyhkhY0tTjo?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 三立 -->
  <iframe id="iframe-set" width="480" height="270" src="https://www.youtube.com/embed/pJ0VgJloR9E?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 民視 -->
  <iframe id="iframe-formosa" width="480" height="270" src="https://www.youtube.com/embed/XxJKnDLYZz4?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 東森 -->
  <iframe id="iframe-ebc" width="480" height="270" src="https://www.youtube.com/embed/R2iMq5LKXco?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 新唐人 -->
  <iframe id="iframe-ntd" width="480" height="270" src="https://www.youtube.com/embed/wSKE3A40SIk?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- TVBS -->
  <iframe id="iframe-tvbs-55" width="480" height="270" src="https://www.youtube.com/embed/KDRwIRKP5tY?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 中天 -->
  <iframe id="iframe-cti" width="480" height="270" src="https://www.youtube.com/embed/lu_BJKxqGnk?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 中視 -->
  <iframe id="iframe-ctv" width="480" height="270" src="https://www.youtube.com/embed/NHTD_g1LYOM?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 華視 -->
  <iframe id="iframe-cts" width="480" height="270" src="https://www.youtube.com/embed/yUTy1U1wTwE?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 寰宇 -->
  <iframe id="iframe-global-news" width="480" height="270" src="https://www.youtube.com/embed/TVNpxstTF0w?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>
  <!-- 台視 -->
  <iframe id="iframe-ttv" width="480" height="270" src="https://www.youtube.com/embed/xL0ch83RAK8?enablejsapi=1"
    frameborder="0" allow="autoplay;fullscreen;"></iframe>

  <!-- Footer -->
  <footer>
    <div class="text-center p-2" style="font-size:16px;">
      <span class="p-2">Created by Neil Chen in 2021.</span>
      <a href="https://www.linkedin.com/in/neil-chen-nc/" target="_blank"><img src="images/linkedin-icon.png"
          class="rounded p-1" alt="LinkedIn"></a>
      <a href="https://github.com/neilchennc/taiwan-live-news/" target="_blank"><img src="images/github-icon.png"
          class="rounded p-1" alt="Github"></a>
    </div>
  </footer>

  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <!-- YouTube iFrame -->
  <script>
    // This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // Init empty array of iframe IDs, one from each video
    var iframeIds = [];

    // For each iframe you find, add its ID to the iframeIds array
    var iframes = document.querySelectorAll("iframe");
    iframes.forEach(function (iframe) {
      iframeIds.push(iframe.id);
    });

    // Determine whether single player is enabled
    var isSinglePlayer = true;

    // Init empty array of YouTube players
    var players = [];

    // This function creates an <iframe> (and YouTube player)
    // after the API code downloads.
    function onYouTubeIframeAPIReady() {
      iframeIds.forEach(function (iframeId) {
        var player = new YT.Player(iframeId, {
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange,
            'onError': onPlayerError
          }
        });
        players.push(player);
      });
    }

    // The API will call this function when the video player is ready.
    function onPlayerReady(event) {
      //event.target.playVideo();
    }

    // The API calls this function when the player's state changes.
    function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.PLAYING && isSinglePlayer) {
        players.forEach(function (player, i) {
          if (player != event.target) {
            player.pauseVideo();
          }
        });
      }
    }

    // The API will call this function when the video player has an error occurs.
    function onPlayerError(event) {
      // no-op
    }

    // Called when single player checkbox changed.
    function onSinglePlayerChanged() {
      var singlePlayer = document.getElementById('singlePlayerSwitch');
      isSinglePlayer = singlePlayer.checked;
    }

    // Play all YouTube videos.
    function playAllVideos() {
      var singlePlayer = document.getElementById('singlePlayerSwitch');
      singlePlayer.checked = false;
      isSinglePlayer = false;
      players.forEach((player, i) => player.playVideo());
    }

    // Stop all YouTube videos.
    function stopAllVideos() {
      players.forEach((player, i) => player.stopVideo());
    }
  </script>
</body>

</html>